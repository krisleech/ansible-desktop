---
- name: Install XClip (copy/paste for the terminal)
  apt: name=xclip state=installed

- name: Check NeoVIM installed
  stat: path=/usr/bin/nvim
  register: stat_nvim

- name: Add PPA for NeoVIM
  apt_repository: repo='ppa:neovim-ppa/unstable' state=present
  when: stat_nvim.changed
  register: nvim_ppa_added

- name: Install NeoVIM
  apt: name=neovim state=installed update_cache=yes
  when: nvim_ppa_added.changed
  register: neovim_installed

- name: Add NeoVIM configuration
  sudo: false
  git: repo=https://github.com/krisleech/neovim-config.git
       dest=~/.config/nvim
       accept_hostkey=yes
  when: neovim_installed.changed
  register: neovim_configuration_installed

- name: Install NeoVIM plugins
  sudo: false
  command: nvim -c "PlugInstall | qa!"
  when: neovim_configuration_installed.changed

